<section class="items-grid" *ngIf="loginService.isCustomer">
  <aside class="sidebar">
    <h3>Categories</h3>
    <div class="custom-dropdown">
      <div class="dropdown">
        <button class="dropdown-toggle" placeholder="Select Categories to filter by toggling"
          (click)="toggleDropdown()">
          Select Categories to filter by toggling
         
        </button>

        <div class="dropdown-menu" [ngClass]="{ 'show': isDropdownOpen }">
          <div *ngFor="let category of categories">
            <input type="checkbox" [value]="category._id" (change)="onCategoryChange($event)">
            {{ category.categoryName }}
          </div>
        </div>
      </div>
    </div>
  </aside>
</section>

<section class="items-grid" *ngIf="loginService.isCustomer">

  <div class="item" *ngFor="let item of products">
    <img [src]="item.product_URL" alt="{{ item.name }}" />
    <h2>{{ item.name }}</h2>
    <p>{{ item.category }}</p>
    <div class="item-footer pd-b-13">
      <span class="item-price">{{ item.price_Per_Each }}</span>
      
    </div>
    <div class="item-footer pd-b-13">
      <span><label for="quantity">Quantity:</label>
        <input type="number" id="quantity" name="quantity" min="1" step="1" class="quant-wd" [(ngModel)]="item.quantity"></span>
        <button (click)="addToCart(item)">Add to Cart</button>
    </div>
  </div>
</section>

<section *ngIf="loginService.isAdmin">
  <div>
    <div>
      <div *ngIf="!isAddNewProdBtnClicked && !isEditProductBtnClicked">
        <div class="item" *ngFor="let item of products">
          <img [src]="item.product_URL" alt="{{ item.name }}" />
          <h2>{{ item.name }}</h2>
          <p>{{ item.category }}</p>
          <div class="item-footer">
            <span class="product-price">{{ item.price_Per_Each }}</span>
          </div>
          <div>
            <button (click)="editProduct(item)">
              Edit Product
            </button>
          </div>
        </div>

        <div>
          <button (click)="addNewProdBtnClicked()">
            Add New Product
          </button>
        </div>
      </div>


      <form *ngIf="isAddNewProdBtnClicked || isEditProductBtnClicked" (submit)="onProductAddSubmit()">
        <div>
          <label>Product Name:</label>
          <input type="text" [(ngModel)]="product.product">
        </div>
        <div>
          <label>Category:</label>
          <input type="text" [(ngModel)]="product.category">
        </div>
        <div>
          <label>Sub Category:</label>
          <input type="text" [(ngModel)]="product.sub_category">
        </div>
        <div>
          <label>Brand:</label>
          <input type="text" [(ngModel)]="product.brand">
        </div>
        <div>
          <label>Sale Price:</label>
          <input type="number" [(ngModel)]="product.sale_price">
        </div>
        <div>
          <label>Market Price:</label>
          <input type="number" [(ngModel)]="product.market_price">
        </div>
        <div>
          <label>Type:</label>
          <input type="text" [(ngModel)]="product.type">
        </div>
        <div>
          <label>Rating:</label>
          <input type="number" [(ngModel)]="product.rating">
        </div>
        <div>
          <label>Description:</label>
          <textarea [(ngModel)]="product.description"></textarea>
        </div>
        <div>
          <label>Image:</label>
          <input type="file" (change)="onFileSelected($event)">
        </div>
        <button type="submit">Add Product</button>
      </form>



    </div>

  </div>

</section>


<div *ngIf="loginService.isDeliveryExec">
  <app-deliverables></app-deliverables>
</div>